<!DOCTYPE html>
 <html>
 <head>
    <title>Real-Time Editor | By Someone p5</title>
    <link rel="stylesheet" type="text/css" href="styles.css">
    <script type="text/javascript">
        var j=0;
        //Function for live Rendering
        function update(i) {
            if(i==0){
                let htmlCode=document.getElementById("htmlCode").value;
                let cssCode=document.getElementById("cssCode").value;
                let javascriptCode=document.getElementById("javascriptCode").value;
                let text=htmlCode+"<style>"+cssCode+"</style>"+"<scri"+"pt>"+javascriptCode+"</scri"+"pt>";
                let iframe=document.getElementById('viewer').contentWindow.document;
                iframe.open();
                iframe.write(text);
                iframe.close();
                editJava(javascriptcode);
            }

        else if(i==1){

            let htmlCode=document.getElementById("htmlCode").value;
            let html=htmlCode.slice(0,htmlCode.length);
            document.getElementById("htmlCode").value=html;
            j=1;

        }
    }
    function editJava(value) {
     var t = "", e = value.split(" ");
     for (var i = 0; i < e.length;) {
      const g = e[i].split(".");
      console.log(g, g.length);
      if (g.length === 1) {
       if (g[0] === "const") {
        t += "<span style=\"color: #d332df;\">" + g + " </span>"
       } else {
        if (e[i-1] === "const") {
          t += "<span style=\"color: #fcbe24;\">" + g + " </span>"
        } else {
          t += g + " ";
        }
       }
      } else {
        t += g + " ";
      }
      i++;
     }
     console.log(t);
     document.body.appendChild(document.createElement('p')).innerHTML = t;
    }

    </script>
    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/split.js/1.0.0/split.min.js" integrity="sha512-tTsZnBXEzNdEaqUO9Ok8fUofS73xieiBa54pD/sxOSvayIgItM9MmEM0CnUjA13LDnJT22sfwmjf20+Bo2174g==" crossorigin="anonymous"></script>
 </head>
 <body>
    <div class="container split">
        <!-- Text area for Html Code  -->
        <textarea id="htmlCode"  placeholder="Type HTML code here" spellcheck="false" oninput="update(0)" onkeydown="if(event.keyCode===9){var v=this.value,s=this.selectionStart,e=this.selectionEnd;this.value=v.substring(0, s)+'\t'+v.substring(e);this.selectionStart=this.selectionEnd=s+1;return false;}if(event.keyCode==8){update(1);}"></textarea>
        <!-- Text area for Css Code  -->
        <textarea id="cssCode"  placeholder="Type CSS code here" spellcheck="false" oninput="update(0)" onkeydown="if(event.keyCode===9){var v=this.value,s=this.selectionStart,e=this.selectionEnd;this.value=v.substring(0, s)+'\t'+v.substring(e);this.selectionStart=this.selectionEnd=s+1;return false;}if(event.keyCode==8){update(1);}"></textarea>
        <!-- Text area for Javascript Code  -->
        <textarea id="javascriptCode" spellcheck="false" placeholder="Type JavaScript code here" oninput="update(0)" onkeydown="if(event.keyCode===9){var v=this.value,s=this.selectionStart,e=this.selectionEnd;this.value=v.substring(0, s)+'\t'+v.substring(e);this.selectionStart=this.selectionEnd=s+1;return false;}if(event.keyCode==8){update(1);}"></textarea>
    </div>
    <div class="iframe-container split">
        <iframe id="viewer"></iframe>
    </div>

 </body>
 </html>
